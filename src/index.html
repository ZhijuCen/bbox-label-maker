<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta
            http-equiv="Content-Security-Policy"
            content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data: file:;"
        />
        <meta
            http-equiv="X-Content-Security-Policy"
            content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data: file:;"
        />
        <link rel="stylesheet" href="./styles/styles.css">
        <title>Image Annotator</title>
    </head>
    <body>
        <div class="toolbar">
            <button id="open-dir">打开目录</button>
            <button id="zoom-in">放大</button>
            <button id="zoom-out">缩小</button>
            <button id="save-btn">保存标注</button>
            <button id="import-btn">导入标注类别</button>
            <button id="export-btn">导出标注类别</button>
            <select id="language-switcher">
                <option value="zh">中文</option>
                <option value="en">English</option>
            </select>
        </div>

        <div class="container">
            <div id="image-list" class="image-list"></div>
            <div class="canvas-container">
                <canvas id="annotation-canvas"></canvas>
            </div>
            <div class="annotation-management">
                <h3>标注列表</h3>
                <div id="annotation-list" class="annotation-list"></div>
                <div class="add-annotation">
                    <button id="detect-objects">一键生成 BBox</button>
                    <div class="iou-control">
                        <label for="iou-threshold">IoU 阈值:</label>
                        <input type="number" id="iou-threshold" min="0" max="1" step="0.05" value="0.5">
                    </div>
                    <div class="model-selection">
                        <label for="model-select">选择模型:</label>
                        <select id="model-select">
                            <option value="ssd">SSD</option>
                            <option value="yolo">YOLO</option>
                        </select>
                    </div>
                    <div class="category-handling">
                        <label for="category-action">处理未定义类别:</label>
                        <select id="category-action">
                            <option value="ignore">忽略</option>
                            <option value="add">加入类别管理</option>
                        </select>
                    </div>
                </div>
            </div>
            <div id="category-management" class="category-management">
                <h3>类别管理</h3>
                <div id="category-list"></div>
                <div class="add-category">
                    <div class="category-input-container">
                        <input type="text" id="category-name" placeholder="类别名称">
                        <input type="color" id="category-color" value="#ff0000">
                    </div>
                    <div class="category-button-container">
                        <button id="add-category-btn">添加类别</button>
                        <button id="reassign-colors-btn">重新分配颜色</button>
                    </div>
                </div>
            </div>
        </div>

        <script type="module" src="./renderer.js"></script>
    </body>
</html>